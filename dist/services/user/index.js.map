{"version":3,"sources":["../../../src/services/user/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOM,WAAW;cAAX,WAAW;;aAAX,WAAW;8BAAX,WAAW;;sEAAX,WAAW;;;iBAAX,WAAW;;+BAEN,GAAG,EAAE;AACR,gBAAM,KAAK,GAAG,uBAAI,IAAI,CAAC,GAAG,EAAE,eAAK,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;AAClE,mBAAO,IAAI,iBAAO,SAAS,CAAC,EAAE,GAAG,EAAH,GAAG,EAAE,KAAK,EAAL,KAAK,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;SACtD;;;+BAEM,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE;AACtB,mBAAO,iBAAO,SAAS,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CACtD,IAAI,CAAC,UAAC,IAAI,EAAK;AACZ,oBAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACnB,uBAAO,IAAI,CAAC,IAAI,EAAE,CAAC;aACtB,CAAC,CAAC;SACV;;;WAbC,WAAW;;;;;AAiBjB,IAAI,QAAQ,GAAG,IAAI,WAAW,EAAE,CAAC;QACxB,WAAW,GAAX,WAAW;QACC,WAAW,GAAvB,QAAQ;kBACF,QAAQ","file":"index.js","sourcesContent":["import BaseService from '../BaseService';\nimport models from '../../models';\nimport errors from '../../utils/error';\nimport jwt from 'jsonwebtoken';\nimport mongoose from 'mongoose';\nimport conf from '../../conf';\n\nclass UserService extends BaseService {\n\n    create(uid) {\n        const token = jwt.sign(uid, conf[process.env.NODE_ENV].secretJWT);\n        return new models.UserModel({ uid, token }).save();\n    }\n\n    update(uid, token, email) {\n        return models.UserModel.findOne({ uid: uid, token: token })\n            .then((user) => {\n                user.email = email;\n                return user.save();\n            });\n    }\n}\n\n//singleton\nvar instance = new UserService();\nexport { UserService };\nexport { instance as UserService };\nexport default instance;"]}
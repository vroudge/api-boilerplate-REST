{"version":3,"sources":["../../../src/controllers/auth/index.js"],"names":[],"mappings":";;;;;;;;;;;;IACY,WAAW;;;;;;;;;;;;;;;;;;AAKvB,IAAM,MAAM,GAAG,IAAI,kBAAQ,MAAM,EAAE;;;;AAAC,AAIpC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,CACxC,GAAG,CAAC,cAAc,CAAC;;;;AAAC,AAIzB,SAAS,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;AACpC,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE;AACf,YAAI,CAAC,IAAI,gBAAM,cAAc,CAAC,iBAAiB,CAAC,CAAC,CAAC;KACrD;;AAED,QAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE;AACjB,YAAI,CAAC,IAAI,gBAAM,cAAc,CAAC,mBAAmB,CAAC,CAAC,CAAC;KACvD;;AAED,WAAO,eAAY,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAClE,IAAI,CAAC,UAAC,WAAW,EAAK;AACnB,WAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;KAC1B,CAAC,CAAC;CACV;;kBAEc,MAAM","file":"index.js","sourcesContent":["import express from 'express';\nimport * as middlewares from '../middlewares';\nimport passport from 'passport';\nimport userService from '../../services/user';\nimport error from '../../utils/error';\n\nconst router = new express.Router();\n\n/* ROUTES */\n\nrouter.route('/user', middlewares.checkToken)\n    .put(addEmailToUser);\n\n/* METHODS */\n\nfunction addEmailToUser(req, res, next) {\n    if (!req.body.uid) {\n        next(new error.ForbiddenError('No UID provided'));\n    }\n\n    if (!req.body.email) {\n        next(new error.ForbiddenError('No email provided'));\n    }\n\n    return userService.update(req.body.uid, req.body.token, req.body.email)\n        .then((updatedUser) => {\n            res.shoot(updatedUser);\n        });\n}\n\nexport default router;"]}
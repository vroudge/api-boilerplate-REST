{"version":3,"sources":["../../src/utils/error.js"],"names":[],"mappings":"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","file":"error.js","sourcesContent":["class ApiError extends Error {\n\n\tconstructor(message, status, errors) {\n\t\tsuper();\n\t\tError.captureStackTrace(this, this.constructor);\n\t\tObject.defineProperty(this, 'message', {\n\t\t\tvalue: message\n\t\t});\n\t\tthis.errors = errors;\n\t\tthis.status = status;\n\t}\n\n\tget type() {\n\t\treturn this.constructor.name;\n\t}\n}\n\nexport class BadRequestError extends ApiError {\n\tconstructor(message = 'Bad API request', status = 400, errors = []) {\n\t\tsuper(message, status, errors);\n\t}\n}\n\nexport class InvalidOldPasswordError extends BadRequestError {\n\tconstructor(message = 'Old password does not match') {\n\t\tsuper(message);\n\t}\n}\n\nexport class BadTokenError extends BadRequestError {\n\tconstructor(message = 'Token already in use', errors = []) {\n\t\tsuper(message, 400, errors);\n\t}\n}\n\nexport class ValidationError extends BadRequestError {\n\tconstructor(message = 'Bad body format', errors = []) {\n\t\tsuper(message, 400, errors);\n\t}\n}\n\nexport class NotFoundError extends ApiError {\n\tconstructor(message = 'Not found', status = 404) {\n\t\tsuper(message, status);\n\t}\n}\n\nexport class EndpointNotFoundError extends NotFoundError {\n\tconstructor(path) {\n\t\tsuper(`${path} does not exist`);\n\t}\n}\n\nexport class ResourceNotFoundError extends NotFoundError {\n\tconstructor(resourceType, resourceId) {\n\t\tvar message = `${resourceType} ${resourceId} not found`;\n\t\tsuper(message);\n\t}\n}\n\nexport class ForbiddenError extends ApiError {\n\tconstructor(message = 'Forbidden', status = 403) {\n\t\tsuper(message, status);\n\t}\n}\n\nexport class UnauthorizedError extends ApiError {\n\tconstructor(message = 'Wrong credentials', status = 401) {\n\t\tsuper(message, status);\n\t}\n}\n\nexport class ServerError extends ApiError {\n\tconstructor(message = 'Unexpected server error', status = 500) {\n\t\tsuper(message, status);\n\t}\n}\n\nimport PrettyError from 'pretty-error';\n\nconst pe = new PrettyError();\n\npe.appendStyle({\n\t'pretty-error > trace > item': {\n\t\tmarginBottom: 0\n\t}\n});\nexport function render(err) {\n\treturn pe.render(err);\n}\n\nexport function log(err) {\n\tconsole.log(pe.render(err));\n}\n\nexport default {\n\tApiError,\n\tNotFoundError,\n\tEndpointNotFoundError,\n\tResourceNotFoundError,\n\tBadRequestError,\n\tInvalidOldPasswordError,\n\tValidationError,\n\tForbiddenError,\n\tUnauthorizedError,\n\trender,\n\tBadTokenError,\n\tlog,\n\tServerError\n};\n"]}